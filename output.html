<!DOCTYPE html>
<!-- This file was generated by Lilac v0.1.0. -->
<script>const __RELEASE = false;
let global = {};
let __internal_global = {};

let ID_COUNTER = 0;

const assert = (condition, message) => {
    if (__RELEASE === true) return;

    if (!condition) {
    	throw new Error(message);
    }
}

const subscribe_fn = (subList) => (callback) => {
    const id = ID_COUNTER++;
    subList.set(id, callback);
    return () => subList.delete(id);
}

const state = (initialState) => {
    const state = {
	__STATE: true,
	value: initialState,
	subscriptions: new Map(),
    };

    state.subscribe = subscribe_fn(state.subscriptions); 

    state.set = (setter) => {
	state.value = setter(state.value);
	state.subscriptions.forEach((sub) => sub(state.value));
    };

    return state; 
}

const lstate = (initialState) => {
    assert(Array.isArray(initialState), "Initial value of lstate must be an array");

    const lstate = {
	__LSTATE: true,
	value: initialState,
	subscriptions: new Map(),
	addSubscriptions: new Map(),
	removeSubscriptions: new Map(),
    };

    lstate.subscribe = subscribe_fn(lstate.subscriptions);
    lstate.subscribeAdd = subscribe_fn(lstate.addSubscriptions);
    lstate.subscribeRemove = subscribe_fn(lstate.removeSubscriptions);

    lstate.push = (item) => {
	lstate.value.push(item);
	const position = lstate.value.length - 1;
	lstate.subscriptions.forEach((sub) => sub(lstate.value));
	lstate.addSubscriptions.forEach((sub) => sub(item, position));
    };

    lstate.pop = () => {
	const _ = lstate.value.pop();
	const position = lstate.value.length;
	lstate.subscriptions.forEach((sub) => sub(lstate.value));
	lstate.removeSubscriptions.forEach((sub) => sub(position));
    };

    lstate.removeAt = (position) => {
	const _ = lstate.value.splice(position, 1);
	lstate.subscriptions.forEach((sub) => sub(lstate.value));
	lstate.removeSubscriptions.forEach((sub) => sub(position));
    };

    lstate.insertAt = (position, item) => {
	lstate.value.splice(position, 0, item);
	lstate.subscriptions.forEach((sub) => sub(lstate.value));
	lstate.addSubscriptions.forEach((sub) => sub(item, position));
    };

    lstate.findAndRemove = (predicate) => {
	const position = lstate.value.findIndex(predicate);
	if (position === -1) return;
	const _ = lstate.value.splice(position, 1);
	lstate.subscriptions.forEach((sub) => sub(lstate.value));
	lstate.removeSubscriptions.forEach((sub) => sub(position));
    };

    return lstate;
}
</script>
<style>html {
    background-color: black;
    color: white;
}
.class-compListItem-blue-text {color:purple;} .tag-compRoot-div {color:red;} .class-compRoot-blue-text {color:blue;} </style>
<script>
    let __Root_1_text = state("");

    const __Root_1_list = lstate([[123, "hi"], [123123, "h"]]);

    let __Root_1_key = 0;

    const __Root_1_add = () => {
	if (__Root_1_text.value.length == 0) return;

	__Root_1_list.push([__Root_1_key++, __Root_1_text.value]);
	__Root_1_text.set(() => "");
    }

    const __Root_1_remove = (__Root_1_key) => {
	__Root_1_list.findAndRemove(([k, _]) => k === __Root_1_key);
    }

</script>




<span id="r3"></span>
                <script>
                    const __elem_reactive_html_2 = document.getElementById("r3");
                    const __elem4 = document.createElement("marquee");
const __5update_classes = (val) => __elem4.className = val;

        
        (__5update_classes)(("blue-" + "text").split(" ").map((s) => "class-compRoot-" + s).join()); 
        
const __textNode6 = document.createTextNode(`
    TODOOOOOOOO LIIIIISSSTTTTTT	
`);
__elem4.appendChild(__textNode6);
__elem_reactive_html_2.appendChild(__elem4);

                </script>

<div class="tag-compRoot-div">
    <span id="r7"></span>
<script>

    let __r7textNode = document.createTextNode(``);
    const __r7setTextNode = (text) => __r7textNode.nodeValue = text;
    
        (__Root_1_list).subscribe(() => (__r7setTextNode)(((__Root_1_list).value).length));
        (__r7setTextNode)(((__Root_1_list).value).length); 
        
    
document.getElementById("r7").appendChild(__r7textNode);
</script>item<span id="r8"></span>
<script>

    let __r8textNode = document.createTextNode(``);
    const __r8setTextNode = (text) => __r8textNode.nodeValue = text;
    
        (__Root_1_list).subscribe(() => (__r8setTextNode)(((__Root_1_list).value).length !== 1 ? "s" : ""));
        (__r8setTextNode)(((__Root_1_list).value).length !== 1 ? "s" : ""); 
        
    
document.getElementById("r8").appendChild(__r8textNode);
</script>in list.
</div>

<span id="r10"></span>
                <script>
                    const __elem_reactive_html_9 = document.getElementById("r10");
                    const __elem11 = document.createElement("input");
__elem11.id = "input";
__elem11.setAttribute("type", "text");
{
                const value = __Root_1_text;
                if (value.__STATE === true) {
                    const update_fn = () => (__elem11).value = value.value;
                    value.subscribe(update_fn);
                    update_fn();
                    __elem11.oninput = (e) => {
                        value.set(() => e.target.value);
                    };
                }
            }__elem_reactive_html_9.appendChild(__elem11);

                </script>
<span id="r13"></span>
                <script>
                    const __elem_reactive_html_12 = document.getElementById("r13");
                    const __elem14 = document.createElement("button");
__elem14.onclick = (__Root_1_add);const __textNode15 = document.createTextNode(`Click Me!`);
__elem14.appendChild(__textNode15);
__elem_reactive_html_12.appendChild(__elem14);

                </script>

<ul>
<span id="r16"></span>
                <script>
                    const __elem17 = document.getElementById("r16");
                    
                    const r16loop = (arr) => {
        __elem17.innerHTML = "";
        for (let __i = 0; __i < arr.length; __i++) {
            const i = arr[__i];
            const __elem18 = document.createElement("span");
const __textNode19 = document.createTextNode(`
    `);
__elem18.appendChild(__textNode19);
{

                    const props = {};
props.name = i[1];
props.delete = () => __Root_1_remove(i[0]) ;
                    
    const b = state(false);
;
const __textNode21 = document.createTextNode(`

`);
__elem18.appendChild(__textNode21);
const __elem22 = document.createElement("li");
const __textNode23 = document.createTextNode(`
    `);
__elem22.appendChild(__textNode23);
const __elem24 = document.createElement("input");
__elem24.setAttribute("type", "checkbox");
{
                const value = b;
                if (value.__STATE === true) {
                    const update_fn = () => (__elem24).checked = value.value;
                    value.subscribe(update_fn);
                    update_fn();
                    __elem24.onchange = (e) => {
                        value.set(() => e.target.checked);
                    };
                }
            }__elem22.appendChild(__elem24);
const __textNode25 = document.createTextNode(` 
    `);
__elem22.appendChild(__textNode25);
const __elem26 = document.createElement("span");
__elem26.className = "class-compListItem-blue-text";
const __27update_attr = (val) => __elem26.setAttribute("style", val);

        (b).subscribe(() => (__27update_attr)(((b).value) ? "text-decoration: line-through;" : ""));
        (__27update_attr)(((b).value) ? "text-decoration: line-through;" : ""); 
        
const __textNode28 = document.createTextNode(`
	`);
__elem26.appendChild(__textNode28);

    let __r29textNode = document.createTextNode(``);
    const __r29setTextNode = (text) => __r29textNode.nodeValue = text;
    
        
        (__r29setTextNode)(props.name); 
        
    
__elem26.appendChild(__r29textNode);const __textNode30 = document.createTextNode(`	`);
__elem26.appendChild(__textNode30);
const __elem31 = document.createElement("button");
__elem31.onclick = (props.delete);const __textNode32 = document.createTextNode(`delete`);
__elem31.appendChild(__textNode32);
__elem26.appendChild(__elem31);
const __textNode33 = document.createTextNode(`
    `);
__elem26.appendChild(__textNode33);
__elem22.appendChild(__elem26);
const __textNode34 = document.createTextNode(`
`);
__elem22.appendChild(__textNode34);
__elem18.appendChild(__elem22);
const __textNode35 = document.createTextNode(`

`);
__elem18.appendChild(__textNode35);
const __textNode36 = document.createTextNode(`
`);
__elem18.appendChild(__textNode36);
}
const __textNode37 = document.createTextNode(`
`);
__elem18.appendChild(__textNode37);
__elem17.appendChild(__elem18);

        }
    };
                    
            const add = (value, position) => {
                const i = value;
                let wrapper_span = undefined;
                {
                    const __elem17 = document.createElement("span");
                    const __elem18 = document.createElement("span");
const __textNode19 = document.createTextNode(`
    `);
__elem18.appendChild(__textNode19);
{

                    const props = {};
props.name = i[1];
props.delete = () => __Root_1_remove(i[0]) ;
                    
    const b = state(false);
;
const __textNode21 = document.createTextNode(`

`);
__elem18.appendChild(__textNode21);
const __elem22 = document.createElement("li");
const __textNode23 = document.createTextNode(`
    `);
__elem22.appendChild(__textNode23);
const __elem24 = document.createElement("input");
__elem24.setAttribute("type", "checkbox");
{
                const value = b;
                if (value.__STATE === true) {
                    const update_fn = () => (__elem24).checked = value.value;
                    value.subscribe(update_fn);
                    update_fn();
                    __elem24.onchange = (e) => {
                        value.set(() => e.target.checked);
                    };
                }
            }__elem22.appendChild(__elem24);
const __textNode25 = document.createTextNode(` 
    `);
__elem22.appendChild(__textNode25);
const __elem26 = document.createElement("span");
__elem26.className = "class-compListItem-blue-text";
const __27update_attr = (val) => __elem26.setAttribute("style", val);

        (b).subscribe(() => (__27update_attr)(((b).value) ? "text-decoration: line-through;" : ""));
        (__27update_attr)(((b).value) ? "text-decoration: line-through;" : ""); 
        
const __textNode28 = document.createTextNode(`
	`);
__elem26.appendChild(__textNode28);

    let __r29textNode = document.createTextNode(``);
    const __r29setTextNode = (text) => __r29textNode.nodeValue = text;
    
        
        (__r29setTextNode)(props.name); 
        
    
__elem26.appendChild(__r29textNode);const __textNode30 = document.createTextNode(`	`);
__elem26.appendChild(__textNode30);
const __elem31 = document.createElement("button");
__elem31.onclick = (props.delete);const __textNode32 = document.createTextNode(`delete`);
__elem31.appendChild(__textNode32);
__elem26.appendChild(__elem31);
const __textNode33 = document.createTextNode(`
    `);
__elem26.appendChild(__textNode33);
__elem22.appendChild(__elem26);
const __textNode34 = document.createTextNode(`
`);
__elem22.appendChild(__textNode34);
__elem18.appendChild(__elem22);
const __textNode35 = document.createTextNode(`

`);
__elem18.appendChild(__textNode35);
const __textNode36 = document.createTextNode(`
`);
__elem18.appendChild(__textNode36);
}
const __textNode37 = document.createTextNode(`
`);
__elem18.appendChild(__textNode37);
__elem17.appendChild(__elem18);

                    wrapper_span = __elem17;
                }
                if (__elem17.childNodes.length === 0) {
                    __elem17.appendChild(wrapper_span);
                } else {
                    __elem17.insertBefore(wrapper_span, __elem17.childNodes[position]);
                }
            };

            const remove = (position) => {
                __elem17.removeChild(__elem17.childNodes[position]);
            };

            __Root_1_list.subscribeAdd(add);
            __Root_1_list.subscribeRemove(remove);

            r16loop(__Root_1_list.value);
         
                </script></ul>



